{"version":3,"sources":["webpack:///../node_modules/graphql-language-service-utils/esm lazy ^.*\\.js$ namespace object","webpack:///../node_modules/graphql-language-service-utils/esm lazy ^.*\\.json$ namespace object","webpack:///../node_modules/graphql-language-service-utils/esm sync ^.*\\.js$","webpack:///../node_modules/graphql-language-service-utils/esm sync ^.*\\.json$","webpack:///./graphiql.ts","webpack:///./scripts/graphiql/app.tsx","webpack:///./scripts/std/app.ts","webpack:///./scripts/std/base/Singleton.ts","webpack:///./scripts/std/guards.ts","webpack:///./styles/graphiql.scss"],"names":["window","App","getInstance","setEventHandlers","document","addEventListener","isJsonMap","config","Object","keys","length","loadConfig","graphQLFetcher","payload","graphql","fetch","String","endpoint","method","headers","body","JSON","stringify","then","response","json","ReactDOM","render","getElementById","StdApp","optionName","defaultValue","optionPath","split","option","key","Error","url","lang","BX","message","uri","URI","segments","segment","languages","getOption","languageCodes","indexOf","shift","unshift","toString","Singleton","name","instances","getClassName","object","Array","isArray"],"mappings":"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","file":"js/graphiql.js","sourcesContent":["var map = {\n\t\"./Range.js\": \"../node_modules/graphql-language-service-utils/esm/Range.js\",\n\t\"./file.js\": \"../node_modules/graphql-language-service-utils/esm/file.js\",\n\t\"./getASTNodeAtPosition.js\": \"../node_modules/graphql-language-service-utils/esm/getASTNodeAtPosition.js\",\n\t\"./index.js\": \"../node_modules/graphql-language-service-utils/esm/index.js\",\n\t\"./validateWithCustomRules.js\": \"../node_modules/graphql-language-service-utils/esm/validateWithCustomRules.js\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"../node_modules/graphql-language-service-utils/esm lazy recursive ^.*\\\\.js$\";\nmodule.exports = webpackAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../node_modules/graphql-language-service-utils/esm lazy recursive ^.*\\\\.json$\";","var map = {\n\t\"./Range.js\": \"../node_modules/graphql-language-service-utils/esm/Range.js\",\n\t\"./file.js\": \"../node_modules/graphql-language-service-utils/esm/file.js\",\n\t\"./getASTNodeAtPosition.js\": \"../node_modules/graphql-language-service-utils/esm/getASTNodeAtPosition.js\",\n\t\"./index.js\": \"../node_modules/graphql-language-service-utils/esm/index.js\",\n\t\"./validateWithCustomRules.js\": \"../node_modules/graphql-language-service-utils/esm/validateWithCustomRules.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../node_modules/graphql-language-service-utils/esm sync recursive ^.*\\\\.js$\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../node_modules/graphql-language-service-utils/esm sync recursive ^.*\\\\.json$\";","import \"graphiql/graphiql.min.css\";\nimport \"@styles/graphiql.scss\";\n\nimport {App} from \"@graphiql/app\";\n\nwindow.App = App.getInstance();\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport GraphiQL from \"graphiql\";\n\nimport {App as StdApp} from \"@std/app\";\nimport {isJsonMap} from \"@std/guards\";\n\nexport class App extends StdApp {\n    constructor() {\n        super();\n\n        this.setEventHandlers();\n    }\n\n    setEventHandlers(): void {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            if (isJsonMap(window.config) && (Object.keys(this.config).length === 0)) {\n                this.loadConfig(window.config);\n            }\n\n            const graphQLFetcher = (payload: any): Promise<Response>|boolean => {\n                if (isJsonMap(this.config) && isJsonMap(this.config.graphql)) {\n                    return fetch(String(this.config.graphql.endpoint), {\n                        method: \"post\",\n                        headers: {\"Content-Type\": \"application/json\"},\n                        body: JSON.stringify(payload),\n                    }).then(response => response.json());\n                } else {\n                    return false;\n                }\n            };\n\n            ReactDOM.render(\n                <GraphiQL fetcher={graphQLFetcher}/>,\n                document.getElementById(\"graphiql-anchor\")\n            );\n        });\n    }\n}\n","import URI from \"urijs\";\n\nimport {Singleton} from \"@std/base/Singleton\";\nimport {isJsonMap} from \"@std/guards\";\n\nexport class App extends Singleton {\n    protected config: JsonMap = {};\n\n    public constructor() {\n        super();\n    }\n\n    public loadConfig(config: JsonMap): void {\n        this.config = config;\n    }\n\n    public getOption(optionName: string, defaultValue?: any): JsonValue {\n        const optionPath = optionName.split(\".\");\n\n        let option: JsonValue = this.config;\n\n        for (const key of optionPath) {\n            if (isJsonMap(option)) {\n                option = option[key];\n            } else if (defaultValue) {\n                return defaultValue;\n            } else {\n                throw new Error(`Опция ${optionName} не найдена.`);\n            }\n        }\n\n        return option;\n    }\n\n    /**\n     * @param {string} url\n     * @param {string} lang\n     * @return {string}\n     */\n    public getUrl(url: string, lang: string = BX.message(\"LANGUAGE_ID\")): string {\n        const uri = URI(url);\n\n        const segments = uri.segment();\n        const languages = this.getOption(\"main.loc.languages\");\n\n        if (!languages || (typeof languages !== \"object\")) {\n            throw new Error(\"Не определены поддерживаемые сайтом языки.\")\n        }\n\n        const languageCodes = Object.keys(languages);\n\n        if (segments && ~languageCodes.indexOf(segments[0])) {\n            segments.shift();\n        }\n\n        if (lang !== this.getOption(\"main.loc.default_language\")) {\n            segments.unshift(lang);\n        }\n\n        uri.segment(segments);\n\n        return uri.toString();\n    }\n}\n","export class Singleton {\n    protected static instances: SingletonInstanceStorage = {};\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n    protected constructor() {\n    }\n\n    protected static getClassName(): string\n    {\n        return this.name;\n    }\n\n    public static getInstance(): InstanceType<any> {\n        if (!this.instances[this.getClassName()]) {\n            this.instances[this.getClassName()] = new this();\n        }\n\n        return this.instances[this.getClassName()];\n    }\n}\n","export function isJsonMap(object: any): object is JsonMap {\n    return object && (typeof object === \"object\") && !Array.isArray(object);\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}